---
title: 正则表达式基础
date: 2018-11-14 18:22:34
categories:
- JavaScript
tags:
- JavaScript
---

### 写在前面

工作中经常会用到正则表达式，来满足一些需求。正则表达式可以匹配一些符合规则的字符串、可以检查一个字符串中是否含有某个字符串、可以替换字符串中的内容。

<!-- more -->

### 元字符

|字符|作用|
|:-:|:--|
| . | 匹配除了换行符意以外的任意字符 |
| \d | 匹配数字 |
| \w | 匹配数字、字母、下划线,等价于[a-zA-Z0-9_]|
| \b | 匹配单词的开头或者结尾，即单词的分界处，并不是匹配具体的一个什么分割字符，就是匹配这么个位置  |
| \s | 匹配任意的空白符，包括空格，制表符(Tab),换行符，中文全角空格 |
| ^ | 匹配字符串开始 |
| $ | 匹配字符串结束 |

### 字符转义

如果要查找元字符本身的话，无法直接指定，需要转义。可以使用`\`来进行转义。

```
  . 表示除了空格以外的任意字符，而 \. 就表示一个 .

  +、?、* 表示数量限制，但是加上\ 就表示本身的加号、问号、星号
```

### 重复

|字符|作用|
|:-:|:--|
|*|重复零次或者多次|
|?|重复零次或者一次|
|+|重复一次或者多次|
|{n}|重复n次|
|{m,n}|重复m-n次|
|{n,}|重复n次或者更多次|


### 反义字符

|字符|作用|
|:-:|:--|
|\W|匹配不是数字、字母、下划线的字符|
|\D| 匹配任意非数字的字符|
|\S|匹配任意不是空白符的字符|
|\B|匹配不是单词开头或结束的位置|
|[^a]|匹配除了a以外的任意字符|
|[^abcd]或者[^a-d]|匹配除了abcd这几个字母以外的任意字符|

### 分组

通过()指定子表达式。

#### 捕获

|表达式|作用|
|:-:|:--|
|(exp)|匹配exp,并捕获文本到自动命名的组里|
|(?\<name>exp)|匹配exp,并捕获文本到名称为name的组里，也可以写成(?'name'exp)|
|(?:exp)|配aaa,不捕获匹配的文本，也不给此分组分配组号|

#### 零宽断言

断言：声明一个应该为真的事实。正则表达式中只有断言正确才会继续匹配。我们要捕获的内容前后必须是某些特定的内容，但又不捕获这些特定类容的时候，使用零宽断言

|表达式|作用|
|:-:|:--|
|x(?=exp)|匹配exp前面的位置 (匹配x,前提是x后面是exp)|
|x(?!exp)|匹配后面不是exp的位置 (匹配x,前提是x的后面不是exp)|
|x(?<=exp)|匹配exp后面的位置 (匹配x,前提是x的前面是exp)|
|x(?<!exp)|匹配前面不是exp的位置 (匹配x,前提是x的前面不是exp)|

#### 注释

```
(?#comment)

这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读
```

### 贪婪和懒惰

`当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符。以这个表达式为例：a.*b，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索aabab的话，它会匹配整个字符串aabab。这被称为贪婪匹配。`


#### 懒惰限定符

|表达式|作用|
|:-:|:--|
|*?|重复任意次，但尽可能少重复|
|+?|重复1次或更多次，但尽可能少重复|
|??| 重复0次或1次，但尽可能少重复|
|{m, n}?|重复n到m次，但尽可能少重复|
|{n,}|重复n次以上，但尽可能少重复|
